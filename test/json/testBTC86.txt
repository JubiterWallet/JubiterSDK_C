https://www.blockchain.com/btc/tx/777c998695de4b7ecec54c058c73b2cab71184cf1655840935cd9388923dc288

// a p2wpkh tx to a p2tr address(bc1pveaamy78cq5hvl74zmfw52fxyjun3lh7lgt44j03ygx02zyk8lesgk06f6)
02000000 version
00 // marker
01 // flag
01 // input count
  // preout-hash index scipt-sig sequence
  fe9d111c806dbf9fa4f03869a42ff81972691b86db5c3ef89381456b4422d3be 00000000 00 ffffffff
02 // output count
  // amount  script-public-key
  3075000000000000 225120667bdd93c7c029767fd516d2ea292624b938fefefa175ac9f1220cf508963ff3
  0000000000000000 116a0f676d20746170726f6f7420f09fa595
02 // witness#1
  47
    30 44
      02 20 01ce176bf7357e12a873b4e439d53eb02f1a642a043a6b7e9e5ae46d0d152f8c
      02 20 4d603e93f49205624eb56c686fc759cc8d11000f4df76c24bda62d790f13d1ff
     01
  2102e484e53bcce92e801a29454dae07812d6999bf1133aca94c8b03c65b56bdd08d
00000000 //locktime

https://www.blockchain.com/btc/tx/2eb8dbaa346d4be4e82fe444c2f0be00654d8cfd8c4a9a61b11aeaab8c00b272
// a p2tr tx (script path spending)
01000000 // version
00 // marker
01 // flag
02 // input count
  // preout-hash index script-sig sequence
  2373cf02ce7df6500ae46a4a0fbbb1b636d2debed8f2df91e2415627397a3409 00000000 00 fdffffff
  88c23d928893cd3509845516cf8411b7cab2738c054cc5ce7e4bde9586997c77 00000000 00 fdffffff
02 // output count
  // amount script-public-key
  0000000000000000 2b6a29676d20746170726f6f7420f09fa5952068747470733a2f2f626974636f696e6465766b69742e6f7267
  6e9e110000000000 1976a91405070d0290da457409a37db2e294c1ffbc52738088ac
04 // witness#1
  410adf90fd381d4a13c3e73740b337b230701189ed94abcb4030781635f035e6d3b50b8506470a68292a2bc74745b7a5732a28254b5f766f09e495929ec308090b01
  00
  4620c13e6d193f5d04506723bd67abcc5d31b610395c445ac6744cb0a1846b3aabaeac20b0e2e48ad7c3d776cf6f2395c504dc19551268ea7429496726c5d5bf72f9333cba519c
  21c00000000000000000000000000000000000000000000000000000000000000001
04 // witness#2
  414636070d21adc8280735383102f7a0f5978cea257777a23934dd3b458b79bf388aca218e39e23533a059da173e402c4fc5e3375e1f839efb22e9a5c2a815b07301
  00
  4620c13e6d193f5d04506723bd67abcc5d31b610395c445ac6744cb0a1846b3aabaeac20b0e2e48ad7c3d776cf6f2395c504dc19551268ea7429496726c5d5bf72f9333cba519c
  21c00000000000000000000000000000000000000000000000000000000000000001
00000000 // lockTime

// verify p2tr tx
https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#script-validation-rules

// Let q be the 32-byte array containing the witness program
// program of pre output
q = 667bdd93c7c029767fd516d2ea292624b938fefefa175ac9f1220cf508963ff3

// tag hash
tag_TpaLeaf  = sha256("TapLeaf")  = aeea8fdc4208983105734b58081d1e2638d35f1cb54008d4d357ca03be78e9ee
tag_TapTweak = sha256("TapTweak") = e80fe1639c9ca050e3af1b39c143c63e429cbceb15d940fbb5c5a1f4af57c5e9

s = [20c13e6d193f5d04506723bd67abcc5d31b610395c445ac6744cb0a1846b3aabaeac20b0e2e48ad7c3d776cf6f2395c504dc19551268ea7429496726c5d5bf72f9333cba519c]
c = c00000000000000000000000000000000000000000000000000000000000000001
m = 0
p = c[1:33] = 0000000000000000000000000000000000000000000000000000000000000001
P = lift_x(int(p))
  = (1, 4218F20AE6C646B363DB68605822FB14264CA8D2587FDD6FBC750D587E76A7EE)
v = c[0]    = c0
k0 = hash_TapLeaf(v||compact_size(s)||s)
   = hash_TapLeaf(
       c0||
       46||
       20c13e6d193f5d04506723bd67abcc5d31b610395c445ac6744cb0a1846b3aabaeac20b0e2e48ad7c3d776cf6f2395c504dc19551268ea7429496726c5d5bf72f9333cba519c
     )
   = 4d25540984c296d24b3f2184bfb4ef4513e73d158e2e63d1f5f1bdf9c20ebfa9
t = hash_TapTweak(p||k0)
  = hash_TapTweak(
      0000000000000000000000000000000000000000000000000000000000000001||
      4d25540984c296d24b3f2184bfb4ef4513e73d158e2e63d1f5f1bdf9c20ebfa9
    )
  = 4053dac158a0c0ed8ac410c0ab6a973386ae0521abc146bd787bdaf19b9b04bf
Q = P + t * G
  = (1, 4218F20AE6C646B363DB68605822FB14264CA8D2587FDD6FBC750D587E76A7EE) +
    (3fc7af27ac50756994d1c6108e2675cd43ca11134a2b68bc941d69c4cb7276e7,
     57adc1aa45e7df36d16f94b4bd006ec8d0f35a639a9615c940c10fdeca7e6544)
  = (667bdd93c7c029767fd516d2ea292624b938fefefa175ac9f1220cf508963ff3,
     beb460a849e1efc2d39f78f7a538ddcd526e4b247d87373bd4a4ebc6ada9348c)

x(Q) = 667bdd93c7c029767fd516d2ea292624b938fefefa175ac9f1220cf508963ff3
y(Q) = beb460a849e1efc2d39f78f7a538ddcd526e4b247d87373bd4a4ebc6ada9348c

q == x(Q)
// c[0] = c0
c[0] & 1 == y(Q)%2  == 0

// script validation success
